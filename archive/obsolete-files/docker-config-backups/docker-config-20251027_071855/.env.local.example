# =============================================================================
# Local Development Environment Configuration
# =============================================================================
# This file contains configuration for the local development environment.
# Copy this file to .env.local and customize as needed.
#
# Usage:
#   cp .env.local.example .env.local
#   # Edit .env.local with your preferences
#   docker compose up  # Automatically uses .env.local if present
#
# Note: Docker Compose loads .env by default. To use .env.local, either:
#   1. Rename it to .env, OR
#   2. Use: docker compose --env-file .env.local up
# =============================================================================

# -----------------------------------------------------------------------------
# Environment Identification
# -----------------------------------------------------------------------------
ENVIRONMENT=local
COMPOSE_PROJECT_NAME=app

# -----------------------------------------------------------------------------
# Port Configuration (Local Development)
# -----------------------------------------------------------------------------
# These ports are exposed on your host machine for direct access
PROXY_PORT=80
BACKEND_PORT=8000
FRONTEND_PORT=5173
DB_PORT=5432
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Database Configuration (Local Development)
# -----------------------------------------------------------------------------
# Simple credentials for local development only
DB_NAME=backend_db
DB_USER=postgres
DB_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432

# PostgreSQL tuning (optional)
POSTGRES_SHARED_BUFFERS=128MB
POSTGRES_EFFECTIVE_CACHE_SIZE=512MB
POSTGRES_MAX_CONNECTIONS=50

# -----------------------------------------------------------------------------
# Redis Configuration (Local Development)
# -----------------------------------------------------------------------------
# No password for local development
REDIS_PASSWORD=
REDIS_MAXMEMORY=256mb

# -----------------------------------------------------------------------------
# Application Version
# -----------------------------------------------------------------------------
APP_VERSION=1.0.0-local

# -----------------------------------------------------------------------------
# Image Configuration (Local Development)
# -----------------------------------------------------------------------------
# Use local build, not registry images
BACKEND_IMAGE=backend-dev:latest
FRONTEND_IMAGE=frontend-dev:latest

# -----------------------------------------------------------------------------
# Worker Configuration (Local Development)
# -----------------------------------------------------------------------------
# Lower concurrency for local development
CELERY_WORKER_CONCURRENCY=2
GUNICORN_WORKERS=2

# -----------------------------------------------------------------------------
# Feature Flags (Local Development)
# -----------------------------------------------------------------------------
# Enable development features
ENABLE_DEBUG_TOOLBAR=true
ENABLE_SILK_PROFILING=true
ENABLE_HOT_RELOAD=true

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
# - These settings are for LOCAL DEVELOPMENT ONLY
# - DO NOT use these settings in staging or production
# - Credentials are intentionally simple for ease of development
# - All services are exposed on host ports for debugging tools
